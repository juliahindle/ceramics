{"ast":null,"code":"\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar fetch = require(\"isomorphic-fetch\");\n\nvar camelCase = require(\"camelcase\"); // subtituted code of <script src=\"https://apis.google.com/js/api.js\"></script> at index.html\n\n\nvar gapi = require(\"./gapi\");\n\nfunction GoogleSheetConnector(options, onLoad) {\n  var _this = this;\n\n  var sheetsData = [];\n  this.sheetsLoaded = 0;\n  this.apiKey = options.apiKey;\n  this.clientId = options.clientId;\n  this.spreadsheetId = options.spreadsheetId;\n  this.initialise();\n\n  this.getSheetsData = function () {\n    return sheetsData.slice();\n  };\n\n  this.setSheetsData = function (data) {\n    sheetsData = data;\n    this.sheetsLoaded++;\n\n    if (this.sheetsLoaded === this.numSheets) {\n      onDataLoaded.call(this);\n    }\n  };\n\n  function onDataLoaded() {\n    this.setSheetsData = null;\n    console.info(\"Data successfuly loaded from Spreadsheet\");\n\n    if (onLoad) {\n      onLoad.call(this);\n    }\n  }\n\n  this.updateCell = function (sheetName, column, row, value, successCallback, errorCallback) {\n    var data = {\n      spreadsheetId: _this.spreadsheetId,\n      range: sheetName + '!' + column + row,\n      valueInputOption: 'USER_ENTERED',\n      values: [[value]]\n    };\n    gapi.client.sheets.spreadsheets.values.update(data).then(successCallback, errorCallback);\n  };\n}\n\nGoogleSheetConnector.prototype = {\n  initialise: function initialise() {\n    console.info(\"Loading data from Spreadsheet\");\n\n    if (this.clientId) {\n      return gapi.load(\"client:auth2\", this.initClient.bind(this));\n    } else if (this.apiKey) {\n      var url = [\"https://sheets.googleapis.com/v4/spreadsheets/\", this.spreadsheetId, \"?key=\", this.apiKey].join(\"\");\n      fetch(url).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        return this.loadSheetsData(data);\n      }.bind(this));\n    } else {\n      console.info(\"You must specify a valid Client ID or API Key\");\n    }\n  },\n  loadSheetsData: function loadSheetsData(data) {\n    this.numSheets = data.sheets.length;\n    data.sheets.forEach(function (sheet) {\n      return this.loadSheetViaKey(sheet.properties.title);\n    }, this);\n  },\n  loadSpreadsheet: function loadSpreadsheet() {\n    gapi.client.sheets.spreadsheets.get({\n      spreadsheetId: this.spreadsheetId\n    }).then(function (response) {\n      var sheets = JSON.parse(response.body).sheets;\n      this.numSheets = sheets.length;\n      sheets.forEach(this.loadSheetViaAuth, this);\n    }.bind(this));\n  },\n  loadSheetViaAuth: function loadSheetViaAuth(sheet) {\n    gapi.client.sheets.spreadsheets.values.get({\n      spreadsheetId: this.spreadsheetId,\n      range: sheet.properties.title\n    }).then(function (response) {\n      var values = JSON.parse(response.body).values;\n      this.loadSheet(sheet.properties.title, values);\n    }.bind(this));\n  },\n  loadSheetViaKey: function loadSheetViaKey(sheetName) {\n    var url = [\"https://sheets.googleapis.com/v4/spreadsheets/\", this.spreadsheetId, \"/values/\", sheetName, \"?key=\", this.apiKey].join(\"\");\n    fetch(url).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      var values = json.values;\n      this.loadSheet(sheetName, values);\n    }.bind(this));\n  },\n  loadSheet: function loadSheet(sheetName, values) {\n    var headerRow = values[0];\n    var dataRows = values.slice(1);\n    var keys = headerRow.map(function (value) {\n      return camelCase(value);\n    }, this);\n    var sheetsData = this.getSheetsData();\n    sheetsData = sheetsData.concat({\n      name: sheetName,\n      header: headerRow,\n      keys: keys,\n      data: this.loadRowsData(keys, dataRows)\n    });\n    this.setSheetsData(sheetsData);\n  },\n  loadRowsData: function loadRowsData(keys, values) {\n    return values.map(function (row) {\n      keys.forEach(function (key, i) {\n        row[key] = row[i];\n      });\n      return row;\n    });\n  },\n  initClient: function initClient() {\n    gapi.client.init({\n      discoveryDocs: [\"https://sheets.googleapis.com/$discovery/rest?version=v4\"],\n      clientId: this.clientId,\n      scope: \"https://www.googleapis.com/auth/spreadsheets\"\n    }).then(function () {\n      var authInstance = gapi.auth2.getAuthInstance();\n\n      if (authInstance.isSignedIn.get()) {\n        this.loadSpreadsheet();\n      } else {\n        authInstance.isSignedIn.listen(this.updateSigninStatus.bind(this));\n        authInstance.signIn();\n      }\n    }.bind(this));\n  },\n  updateSigninStatus: function updateSigninStatus(isSignedIn) {\n    if (isSignedIn) {\n      this.loadSpreadsheet();\n    }\n  },\n  getSheet: function getSheet(sheetName) {\n    return new SheetData(this.getSheetsData(), sheetName);\n  }\n};\n\nfunction SheetData(sheetsData, sheetName) {\n  var sheet = sheetsData.find(function (sheet) {\n    return sheet.name === sheetName;\n  }) || {\n    data: [],\n    values: []\n  };\n  this.header = sheet.header;\n  this.keys = sheet.keys;\n  var data = sheet.data;\n  var currentData = data.slice();\n\n  this.getData = function () {\n    return data.slice();\n  };\n\n  this.getCurrentData = function () {\n    return currentData.slice();\n  };\n\n  this.setCurrentData = function (newData) {\n    currentData = newData;\n  };\n}\n\nSheetData.prototype = {\n  map: function map(callback) {\n    return this.getCurrentData().map(callback);\n  },\n  filter: function filter(filterObj, strValue) {\n    var newData = this.getData().filter(function (row) {\n      if ((typeof filterObj === \"undefined\" ? \"undefined\" : _typeof(filterObj)) === \"object\") {\n        for (var i in filterObj) {\n          if (!row.hasOwnProperty(i) || row[i] !== filterObj[i]) {\n            return false;\n          }\n        }\n      } else {\n        var colIndex = this.header.indexOf(filterObj);\n        if (row[colIndex] !== strValue) return false;\n      }\n\n      return true;\n    }, this);\n    this.setCurrentData(newData);\n    return this;\n  },\n  group: function group(colName, sort) {\n    var groups = [];\n    var colIndex = this.header.indexOf(colName);\n    if (colIndex === -1) return this;\n    this.getCurrentData().forEach(function (row) {\n      var groupName = row[colIndex];\n      var groupIndex = -1;\n      groups.forEach(function (group, i) {\n        if (group.name === groupName) groupIndex = i;\n      });\n\n      if (groupIndex > -1) {\n        groups[groupIndex].data.push(row);\n      } else {\n        groups.push({\n          name: groupName,\n          data: [row]\n        });\n      }\n    });\n    if (sort) sortArray(groups, \"name\");\n    this.setCurrentData(groups);\n    this.dataIsGrouped = true;\n    return this;\n  },\n  sort: function sort(colName) {\n    var newData = this.getCurrentData();\n\n    if (this.dataIsGrouped) {\n      newData.forEach(function (group) {\n        sortArray(group.data, camelCase(colName));\n      });\n    } else {\n      sortArray(newData, camelCase(colName));\n    }\n\n    this.setCurrentData(newData);\n    return this;\n  },\n  reverse: function reverse() {\n    var newData = this.getCurrentData();\n    newData.reverse();\n    this.setCurrentData(newData);\n    return this;\n  }\n};\n\nfunction sortArray(array, orderBy) {\n  array.sort(function (a, b) {\n    var textA = a[orderBy] ? a[orderBy].toUpperCase() : \"\";\n    var textB = b[orderBy] ? b[orderBy].toUpperCase() : \"\";\n    if (textA < textB) return -1;\n    return textA > textB ? 1 : 0;\n  });\n}\n\nmodule.exports = GoogleSheetConnector;","map":{"version":3,"names":["_typeof","Symbol","iterator","obj","constructor","prototype","fetch","require","camelCase","gapi","GoogleSheetConnector","options","onLoad","_this","sheetsData","sheetsLoaded","apiKey","clientId","spreadsheetId","initialise","getSheetsData","slice","setSheetsData","data","numSheets","onDataLoaded","call","console","info","updateCell","sheetName","column","row","value","successCallback","errorCallback","range","valueInputOption","values","client","sheets","spreadsheets","update","then","load","initClient","bind","url","join","response","json","loadSheetsData","length","forEach","sheet","loadSheetViaKey","properties","title","loadSpreadsheet","get","JSON","parse","body","loadSheetViaAuth","loadSheet","headerRow","dataRows","keys","map","concat","name","header","loadRowsData","key","i","init","discoveryDocs","scope","authInstance","auth2","getAuthInstance","isSignedIn","listen","updateSigninStatus","signIn","getSheet","SheetData","find","currentData","getData","getCurrentData","setCurrentData","newData","callback","filter","filterObj","strValue","hasOwnProperty","colIndex","indexOf","group","colName","sort","groups","groupName","groupIndex","push","sortArray","dataIsGrouped","reverse","array","orderBy","a","b","textA","toUpperCase","textB","module","exports"],"sources":["/Users/juliahindle/Documents/GitHub/ceramics/node_modules/react-google-sheets/google-sheet-connector/index.js"],"sourcesContent":["\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar fetch = require(\"isomorphic-fetch\");\nvar camelCase = require(\"camelcase\");\n// subtituted code of <script src=\"https://apis.google.com/js/api.js\"></script> at index.html\nvar gapi = require(\"./gapi\");\n\nfunction GoogleSheetConnector(options, onLoad) {\n    var _this = this;\n\n    var sheetsData = [];\n    this.sheetsLoaded = 0;\n    this.apiKey = options.apiKey;\n    this.clientId = options.clientId;\n    this.spreadsheetId = options.spreadsheetId;\n\n    this.initialise();\n\n    this.getSheetsData = function () {\n        return sheetsData.slice();\n    };\n\n    this.setSheetsData = function (data) {\n        sheetsData = data;\n\n        this.sheetsLoaded++;\n\n        if (this.sheetsLoaded === this.numSheets) {\n            onDataLoaded.call(this);\n        }\n    };\n\n    function onDataLoaded() {\n        this.setSheetsData = null;\n        console.info(\"Data successfuly loaded from Spreadsheet\");\n        if (onLoad) {\n            onLoad.call(this);\n        }\n    }\n    this.updateCell = function (sheetName, column, row, value, successCallback, errorCallback) {\n        var data = {\n            spreadsheetId: _this.spreadsheetId,\n            range: sheetName + '!' + column + row,\n            valueInputOption: 'USER_ENTERED',\n            values: [[value]]\n        };\n        gapi.client.sheets.spreadsheets.values.update(data).then(successCallback, errorCallback);\n    };\n}\n\nGoogleSheetConnector.prototype = {\n\n    initialise: function initialise() {\n        console.info(\"Loading data from Spreadsheet\");\n        if (this.clientId) {\n            return gapi.load(\"client:auth2\", this.initClient.bind(this));\n        } else if (this.apiKey) {\n            var url = [\"https://sheets.googleapis.com/v4/spreadsheets/\", this.spreadsheetId, \"?key=\", this.apiKey].join(\"\");\n\n            fetch(url).then(function (response) {\n                return response.json();\n            }).then(function (data) {\n                return this.loadSheetsData(data);\n            }.bind(this));\n        } else {\n            console.info(\"You must specify a valid Client ID or API Key\");\n        }\n    },\n\n    loadSheetsData: function loadSheetsData(data) {\n        this.numSheets = data.sheets.length;\n        data.sheets.forEach(function (sheet) {\n            return this.loadSheetViaKey(sheet.properties.title);\n        }, this);\n    },\n\n    loadSpreadsheet: function loadSpreadsheet() {\n        gapi.client.sheets.spreadsheets.get({\n            spreadsheetId: this.spreadsheetId\n        }).then(function (response) {\n            var sheets = JSON.parse(response.body).sheets;\n            this.numSheets = sheets.length;\n            sheets.forEach(this.loadSheetViaAuth, this);\n        }.bind(this));\n    },\n\n    loadSheetViaAuth: function loadSheetViaAuth(sheet) {\n        gapi.client.sheets.spreadsheets.values.get({\n            spreadsheetId: this.spreadsheetId,\n            range: sheet.properties.title\n        }).then(function (response) {\n            var values = JSON.parse(response.body).values;\n            this.loadSheet(sheet.properties.title, values);\n        }.bind(this));\n    },\n\n    loadSheetViaKey: function loadSheetViaKey(sheetName) {\n        var url = [\"https://sheets.googleapis.com/v4/spreadsheets/\", this.spreadsheetId, \"/values/\", sheetName, \"?key=\", this.apiKey].join(\"\");\n\n        fetch(url).then(function (response) {\n            return response.json();\n        }).then(function (json) {\n            var values = json.values;\n            this.loadSheet(sheetName, values);\n        }.bind(this));\n    },\n\n    loadSheet: function loadSheet(sheetName, values) {\n        var headerRow = values[0];\n        var dataRows = values.slice(1);\n        var keys = headerRow.map(function (value) {\n            return camelCase(value);\n        }, this);\n\n        var sheetsData = this.getSheetsData();\n\n        sheetsData = sheetsData.concat({\n            name: sheetName,\n            header: headerRow,\n            keys: keys,\n            data: this.loadRowsData(keys, dataRows)\n        });\n\n        this.setSheetsData(sheetsData);\n    },\n\n    loadRowsData: function loadRowsData(keys, values) {\n        return values.map(function (row) {\n\n            keys.forEach(function (key, i) {\n                row[key] = row[i];\n            });\n\n            return row;\n        });\n    },\n\n    initClient: function initClient() {\n        gapi.client.init({\n            discoveryDocs: [\"https://sheets.googleapis.com/$discovery/rest?version=v4\"],\n            clientId: this.clientId,\n            scope: \"https://www.googleapis.com/auth/spreadsheets\"\n        }).then(function () {\n            var authInstance = gapi.auth2.getAuthInstance();\n            if (authInstance.isSignedIn.get()) {\n                this.loadSpreadsheet();\n            } else {\n                authInstance.isSignedIn.listen(this.updateSigninStatus.bind(this));\n                authInstance.signIn();\n            }\n        }.bind(this));\n    },\n\n    updateSigninStatus: function updateSigninStatus(isSignedIn) {\n        if (isSignedIn) {\n            this.loadSpreadsheet();\n        }\n    },\n\n    getSheet: function getSheet(sheetName) {\n        return new SheetData(this.getSheetsData(), sheetName);\n    }\n};\n\nfunction SheetData(sheetsData, sheetName) {\n    var sheet = sheetsData.find(function (sheet) {\n        return sheet.name === sheetName;\n    }) || { data: [], values: [] };\n\n    this.header = sheet.header;\n    this.keys = sheet.keys;\n    var data = sheet.data;\n    var currentData = data.slice();\n\n    this.getData = function () {\n        return data.slice();\n    };\n\n    this.getCurrentData = function () {\n        return currentData.slice();\n    };\n\n    this.setCurrentData = function (newData) {\n        currentData = newData;\n    };\n}\n\nSheetData.prototype = {\n    map: function map(callback) {\n        return this.getCurrentData().map(callback);\n    },\n    filter: function filter(filterObj, strValue) {\n        var newData = this.getData().filter(function (row) {\n            if ((typeof filterObj === \"undefined\" ? \"undefined\" : _typeof(filterObj)) === \"object\") {\n                for (var i in filterObj) {\n                    if (!row.hasOwnProperty(i) || row[i] !== filterObj[i]) {\n                        return false;\n                    }\n                }\n            } else {\n                var colIndex = this.header.indexOf(filterObj);\n                if (row[colIndex] !== strValue) return false;\n            }\n\n            return true;\n        }, this);\n\n        this.setCurrentData(newData);\n\n        return this;\n    },\n    group: function group(colName, sort) {\n        var groups = [];\n        var colIndex = this.header.indexOf(colName);\n\n        if (colIndex === -1) return this;\n\n        this.getCurrentData().forEach(function (row) {\n            var groupName = row[colIndex];\n            var groupIndex = -1;\n\n            groups.forEach(function (group, i) {\n                if (group.name === groupName) groupIndex = i;\n            });\n\n            if (groupIndex > -1) {\n                groups[groupIndex].data.push(row);\n            } else {\n                groups.push({\n                    name: groupName,\n                    data: [row]\n                });\n            }\n        });\n\n        if (sort) sortArray(groups, \"name\");\n\n        this.setCurrentData(groups);\n        this.dataIsGrouped = true;\n\n        return this;\n    },\n    sort: function sort(colName) {\n        var newData = this.getCurrentData();\n        if (this.dataIsGrouped) {\n            newData.forEach(function (group) {\n                sortArray(group.data, camelCase(colName));\n            });\n        } else {\n            sortArray(newData, camelCase(colName));\n        }\n        this.setCurrentData(newData);\n\n        return this;\n    },\n    reverse: function reverse() {\n        var newData = this.getCurrentData();\n        newData.reverse();\n        this.setCurrentData(newData);\n        return this;\n    }\n};\n\nfunction sortArray(array, orderBy) {\n\n    array.sort(function (a, b) {\n        var textA = a[orderBy] ? a[orderBy].toUpperCase() : \"\";\n        var textB = b[orderBy] ? b[orderBy].toUpperCase() : \"\";\n        if (textA < textB) return -1;\n        return textA > textB ? 1 : 0;\n    });\n}\n\nmodule.exports = GoogleSheetConnector;"],"mappings":"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"},"metadata":{},"sourceType":"script"}